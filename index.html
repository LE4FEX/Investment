<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Investment Toolkit</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>Investment Toolkit</h1>
    <nav class="app-nav">
      <button data-target="portfolio" class="nav-btn active">Portfolio</button>
      <button data-target="quotes" class="nav-btn">Quotes</button>
      <button data-target="technicals" class="nav-btn">Technicals</button>
      <button data-target="backtest" class="nav-btn">Backtest</button>
      <button data-target="dca" class="nav-btn">DCA</button>
      <button data-target="alerts" class="nav-btn">Alerts</button>
      <button data-target="settings" class="nav-btn">Settings</button>
    </nav>
  </header>

  <main class="app-main">
    <section id="portfolio" class="panel active">
      <h2>Portfolio Tracker</h2>
      <form id="portfolio-form" class="form-grid">
        <label>Ticker
          <input type="text" id="portfolio-symbol" placeholder="e.g. AAPL" required />
        </label>
        <label>Shares
          <input type="number" id="portfolio-shares" min="0" step="0.01" required />
        </label>
        <label>Price
          <input type="number" id="portfolio-price" min="0" step="0.01" required />
        </label>
        <button type="submit" class="primary">Add Position</button>
      </form>
      <div id="portfolio-summary" class="summary-cards"></div>
      <table id="portfolio-table" class="data-table">
        <thead>
          <tr>
            <th>Symbol</th>
            <th>Shares</th>
            <th>Avg Cost</th>
            <th>Last Price</th>
            <th>Value</th>
            <th>P/L</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="quotes" class="panel">
      <h2>Quotes & Watchlist</h2>
      <div class="quotes-controls">
        <form id="quotes-form">
          <label>Symbol
            <input type="text" id="quotes-symbol" placeholder="e.g. MSFT" required />
          </label>
          <button type="submit" class="primary">Add to Watchlist</button>
        </form>
        <p class="small-text">Uses Alpha Vantage if API key is saved, otherwise falls back to mock data.</p>
      </div>
      <div id="quotes-list" class="card-grid"></div>
      <div class="chart-container">
        <canvas id="price-chart" width="800" height="320"></canvas>
      </div>
    </section>

    <section id="technicals" class="panel">
      <h2>Technical Analysis</h2>
      <form id="technicals-form" class="form-grid">
        <label>Symbol
          <input type="text" id="technicals-symbol" placeholder="e.g. TSLA" required />
        </label>
        <label>Interval
          <select id="technicals-interval">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
          </select>
        </label>
        <button type="submit" class="primary">Calculate</button>
      </form>
      <div class="chart-container">
        <canvas id="technicals-chart" width="800" height="360"></canvas>
      </div>
      <div id="technicals-signals" class="signals"></div>
    </section>

    <section id="backtest" class="panel">
      <h2>Backtesting</h2>
      <form id="backtest-form" class="form-grid">
        <label>Symbol
          <input type="text" id="backtest-symbol" placeholder="e.g. SPY" required />
        </label>
        <label>Short MA
          <input type="number" id="backtest-short" min="1" value="50" />
        </label>
        <label>Long MA
          <input type="number" id="backtest-long" min="1" value="200" />
        </label>
        <button type="submit" class="primary">Run Backtest</button>
      </form>
      <div id="backtest-results" class="summary-cards"></div>
      <div class="chart-container">
        <canvas id="backtest-chart" width="800" height="360"></canvas>
      </div>
    </section>

    <section id="dca" class="panel">
      <h2>DCA Simulator</h2>
      <form id="dca-form" class="form-grid">
        <label>Symbol
          <input type="text" id="dca-symbol" placeholder="e.g. VOO" required />
        </label>
        <label>Monthly Amount
          <input type="number" id="dca-amount" min="0" step="0.01" value="100" />
        </label>
        <label>Months
          <input type="number" id="dca-months" min="1" value="12" />
        </label>
        <button type="submit" class="primary">Simulate</button>
      </form>
      <div id="dca-results" class="summary-cards"></div>
      <div class="chart-container">
        <canvas id="dca-chart" width="800" height="320"></canvas>
      </div>
    </section>

    <section id="alerts" class="panel">
      <h2>Alerts</h2>
      <form id="alerts-form" class="form-grid">
        <label>Symbol
          <input type="text" id="alerts-symbol" placeholder="e.g. NVDA" required />
        </label>
        <label>RSI Low
          <input type="number" id="alerts-rsi-low" min="0" max="100" value="30" />
        </label>
        <label>RSI High
          <input type="number" id="alerts-rsi-high" min="0" max="100" value="70" />
        </label>
        <button type="submit" class="primary">Save Alert</button>
      </form>
      <div id="alerts-list" class="card-grid"></div>
    </section>

    <section id="settings" class="panel">
      <h2>Settings</h2>
      <form id="settings-form" class="form-grid">
        <label>Alpha Vantage API Key
          <input type="text" id="settings-api-key" placeholder="Enter API key" />
        </label>
        <label>Default Symbol
          <input type="text" id="settings-default-symbol" placeholder="e.g. AAPL" />
        </label>
        <button type="submit" class="primary">Save Settings</button>
        <button type="button" id="settings-reset" class="danger">Reset App</button>
      </form>
    </section>
  </main>

  <footer class="app-footer">
    <p>Data provided via Alpha Vantage (or mock data). Educational use only.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="assets/app.js"></script>
</body>
</html>
